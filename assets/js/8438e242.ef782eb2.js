"use strict";(self.webpackChunkpersonal_site=self.webpackChunkpersonal_site||[]).push([[5369],{5830:e=>{e.exports=JSON.parse('{"permalink":"/blog/2023/04/15/increase-swap-pi","source":"@site/blog/2023-04-15-increase-swap-pi.md","title":"Increase Swap on a Raspberry Pi","description":"The swap file is used to increase the system\u2019s total accessible memory beyond its hardware capabilities.","date":"2023-04-15T00:00:00.000Z","tags":[{"inline":false,"label":"Raspberry Pi","permalink":"/blog/tags/raspberry-pi","description":"Raspberry Pi tag description"}],"readingTime":2.08,"hasTruncateMarker":true,"authors":[],"frontMatter":{"title":"Increase Swap on a Raspberry Pi","tags":["raspberry-pi"]},"unlisted":false,"nextItem":{"title":"Install OS on an SSD with the RPi Imager","permalink":"/blog/2023/04/07/set-up-SDD-with-rpi"}}')},6150:(e,s,r)=>{r.r(s),r.d(s,{assets:()=>l,contentTitle:()=>o,default:()=>p,frontMatter:()=>t,metadata:()=>n,toc:()=>c});var n=r(5830),a=r(4848),i=r(8453);const t={title:"Increase Swap on a Raspberry Pi",tags:["raspberry-pi"]},o=void 0,l={authorsImageUrls:[]},c=[{value:"You will need",id:"you-will-need",level:3},{value:"Increase the Swap File on a Raspberry Pi",id:"increase-the-swap-file-on-a-raspberry-pi",level:3},{value:"References",id:"references",level:2}];function h(e){const s={a:"a",br:"br",code:"code",h2:"h2",h3:"h3",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.p,{children:"The swap file is used to increase the system\u2019s total accessible memory beyond its hardware capabilities.\nThis means that when all of the Raspberry Pi\u2019s RAM is exhausted, it can start using the swap file as memory instead."}),"\n",(0,a.jsx)(s.p,{children:"The addition of more virtual memory allows the system to deal with more memory intensive tasks without running into out of memory errors or having to shut down other additional packages.\nHowever, the downside to this is that accessing the swap file is a significantly slower process that can create slowdowns."}),"\n",(0,a.jsxs)(s.p,{children:["The reason for this is that the swap file exists on your actual disk, which has significantly lower read and write speeds then your RAM.",(0,a.jsx)(s.br,{}),"\n","Another caveat of a large swap file is that you need that space to be free on your SD Card. You can\u2019t set a swap file on your Raspberry Pi larger than your available free space."]}),"\n",(0,a.jsx)(s.h3,{id:"you-will-need",children:"You will need"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsxs)(s.li,{children:["A Raspberry-Pi setup (",(0,a.jsx)(s.a,{href:"https://thepihut.com/products/raspberry-pi-starter-kit",children:"starter kit"})," is a great way to start)"]}),"\n",(0,a.jsxs)(s.li,{children:["A ",(0,a.jsx)(s.a,{href:"https://www.tomshardware.com/best-picks/raspberry-pi-microsd-cards",children:"Micro SD Card"})]}),"\n",(0,a.jsx)(s.li,{children:"Ethernet cable or Wi-Fi"}),"\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"https://thepihut.com/blogs/raspberry-pi-tutorials/how-do-i-power-my-raspberry-pi",children:"Power Supply"})}),"\n"]}),"\n",(0,a.jsx)(s.h3,{id:"increase-the-swap-file-on-a-raspberry-pi",children:"Increase the Swap File on a Raspberry Pi"}),"\n",(0,a.jsx)(s.p,{children:"Before we can increase our Raspberry Pi\u2019s swap file, we must first temporarily stop it.\nThe swap file cannot be in use while we increase it.\nTo stop the operating system from using the current swap file, run the following command."}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-sh",children:"sudo dphys-swapfile swapoff\n"})}),"\n",(0,a.jsx)(s.p,{children:"Next, we need to modify the swap file configuration file."}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-sh",children:"sudo vim /etc/dphys-swapfile\n"})}),"\n",(0,a.jsx)(s.p,{children:"Within this config file, find the following line of text."}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-sh",children:"CONF_SWAPSIZE=100\n"})}),"\n",(0,a.jsx)(s.p,{children:"To increase or decrease the swap file, all you need to do is modify the numerical value you find here.\nThis number is the size of the swap in megabytes."}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-sh",children:"CONF_SWAPSIZE=1024\n"})}),"\n",(0,a.jsx)(s.p,{children:"Whatever size you set, you must have that space available on your SD card.\nWe can now re-initialize the Raspberry Pi\u2019s swap file by running the command below."}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-sh",children:"sudo dphys-swapfile setup\n"})}),"\n",(0,a.jsx)(s.p,{children:"With the swap now recreated to the newly defined size, we can now turn the swap back on."}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-sh",children:"sudo dphys-swapfile swapon\n"})}),"\n",(0,a.jsx)(s.p,{children:"To reload all programs with access to the new memory pool, then restart your device."}),"\n",(0,a.jsx)(s.pre,{children:(0,a.jsx)(s.code,{className:"language-sh",children:"sudo reboot\n"})}),"\n",(0,a.jsx)(s.h2,{id:"references",children:"References"}),"\n",(0,a.jsxs)(s.ul,{children:["\n",(0,a.jsx)(s.li,{children:(0,a.jsx)(s.a,{href:"https://pimylifeup.com/raspberry-pi-swap-file/",children:"Raspberry Pi Swap File"})}),"\n"]})]})}function p(e={}){const{wrapper:s}={...(0,i.R)(),...e.components};return s?(0,a.jsx)(s,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},8453:(e,s,r)=>{r.d(s,{R:()=>t,x:()=>o});var n=r(6540);const a={},i=n.createContext(a);function t(e){const s=n.useContext(i);return n.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:t(e.components),n.createElement(i.Provider,{value:s},e.children)}}}]);